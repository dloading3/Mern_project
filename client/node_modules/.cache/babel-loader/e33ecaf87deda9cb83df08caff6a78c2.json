{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dhair\\\\Downloads\\\\Blog_MERN-master\\\\client\\\\src\\\\pages\\\\LogIn\\\\LogIn.js\",\n    _s = $RefreshSig$();\n\nimport { useDispatch } from \"react-redux\";\nimport { useRef, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { authActions } from \"../../store/auth-slice\";\nimport vector6 from \"./vector6.png\";\nimport \"./LogIn.scss\";\nimport { axiosInstance } from \"../../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LogIn = () => {\n  _s();\n\n  const [errors, setErrors] = useState(null);\n  const history = useHistory();\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const dispatch = useDispatch();\n\n  const submitHandler = async event => {\n    event.preventDefault();\n    setErrors(null);\n    const enteredMail = emailRef.current.value;\n    const enteredPassword = passwordRef.current.value;\n\n    try {\n      const res = await axiosInstance.post(\"auth/login\", {\n        email: enteredMail,\n        password: enteredPassword\n      });\n      console.log(res.data.email);\n      res.data && history.replace(\"/home\");\n      dispatch(authActions.loginHandler({\n        username: res.data.username,\n        email: res.data.email\n      }));\n      localStorage.setItem(\"user\", JSON.stringify(res.data));\n    } catch (err) {\n      console.log(err.response.data);\n      const errMsg = err.response.data;\n      setErrors(errMsg);\n    }\n  }; // const logState = useSelector(state => state.auth.isLoggedIn)\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signupPage\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login1\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"login1__text\",\n            children: \"Log in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this), errors && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"login1__error\",\n            children: errors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 32\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: emailRef,\n            className: \"login1__box\",\n            type: \"text\",\n            required: true,\n            placeholder: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: passwordRef,\n            className: \"login1__box\",\n            type: \"password\",\n            required: true,\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"login1__submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"login1__para\",\n          children: [\"New user? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"Register now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 59\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"login2__text\",\n          children: \"Welcome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"login2__text2\",\n          children: \"Start writing your blogs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: vector6,\n          alt: \"\",\n          className: \"login2__vector\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LogIn, \"38wCDe9XeYnZZK+aHXEt8Xq5caA=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"sources":["C:/Users/dhair/Downloads/Blog_MERN-master/client/src/pages/LogIn/LogIn.js"],"names":["useDispatch","useRef","useState","Link","useHistory","authActions","vector6","axiosInstance","LogIn","errors","setErrors","history","emailRef","passwordRef","dispatch","submitHandler","event","preventDefault","enteredMail","current","value","enteredPassword","res","post","email","password","console","log","data","replace","loginHandler","username","localStorage","setItem","JSON","stringify","err","response","errMsg"],"mappings":"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","sourcesContent":["import { useDispatch } from \"react-redux\";\r\nimport { useRef, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { authActions } from \"../../store/auth-slice\";\r\n\r\nimport vector6 from \"./vector6.png\";\r\n\r\nimport \"./LogIn.scss\"\r\nimport { axiosInstance } from \"../../config\";\r\n\r\nconst LogIn = () => {\r\n\r\n    const [errors, setErrors] = useState(null)\r\n\r\n    const history = useHistory();\r\n\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const submitHandler = async (event) => {\r\n        event.preventDefault();\r\n\r\n        setErrors(null)\r\n        const enteredMail = emailRef.current.value;\r\n        const enteredPassword = passwordRef.current.value;\r\n\r\n        try {\r\n            const res = await axiosInstance.post(\"auth/login\", {\r\n                email: enteredMail,\r\n                password: enteredPassword\r\n            })\r\n            console.log(res.data.email);\r\n            res.data && history.replace(\"/home\")\r\n            dispatch(authActions.loginHandler({\r\n                username: res.data.username,\r\n                email: res.data.email\r\n            }))\r\n            localStorage.setItem(\"user\", JSON.stringify(res.data))\r\n        } catch (err) {\r\n            console.log(err.response.data);\r\n            const errMsg = err.response.data\r\n            setErrors(errMsg)\r\n        }\r\n  \r\n    }\r\n\r\n    // const logState = useSelector(state => state.auth.isLoggedIn)\r\n    \r\n    return (\r\n        <div className=\"signupPage\">\r\n            <div className=\"login\">               \r\n\r\n                <div className=\"login1\">\r\n                <form onSubmit={submitHandler}>\r\n                    <h3 className=\"login1__text\">Log in</h3>\r\n                    {errors && <p className=\"login1__error\">{errors}</p>}\r\n                    <input ref={emailRef} className=\"login1__box\" type=\"text\" required placeholder=\"Email\" />\r\n                    <input ref={passwordRef}  className=\"login1__box\" type=\"password\" required placeholder=\"Password\" />\r\n                    <button className=\"login1__submit\">Login</button>\r\n                    </form>\r\n                    <p className=\"login1__para\">New user? <Link to=\"/register\">Register now</Link></p>\r\n                </div>\r\n\r\n                <div className=\"login2\">\r\n\r\n                    <h3 className=\"login2__text\">Welcome</h3>\r\n                    <h3 className=\"login2__text2\">Start writing your blogs</h3>\r\n                    <img src={vector6} alt=\"\" className=\"login2__vector\" />\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}